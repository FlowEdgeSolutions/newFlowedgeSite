<header class="header" [class.scrolled]="isScrolled()">
  <div class="container">
    <nav class="nav">
      <div class="logo" (click)="navigateToHome()" style="cursor: pointer;">
        <div class="logo-container">
          <img src="/Logo/logo_icon.png" alt="FlowEdge Solutions Icon" class="logo-icon">
          <span class="logo-text-gradient">FlowEdge Solutions</span>
        </div>
      </div>

      <button class="mobile-menu-btn" (click)="toggleMobileMenu()" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <ul class="nav-menu" [class.active]="isMobileMenuOpen()">
        <!-- Lösungen Dropdown -->
        <li class="dropdown" (mouseenter)="showDropdown('solutions')" (mouseleave)="hideDropdown('solutions')">
          <a class="dropdown-toggle" [class.active]="isDropdownOpen('solutions')">
            <span>Lösungen</span>
            <svg class="dropdown-arrow" [class.rotated]="isDropdownOpen('solutions')" width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
          <div class="dropdown-menu" [class.show]="isDropdownOpen('solutions')">
            <div class="dropdown-grid">
              <a class="dropdown-item" (click)="navigateToSolution('voiceaider')">
                <div class="item-icon voice-icon">
                  <img src="/mockup/tel.avif" alt="Voice Agent" class="icon-image">
                </div>
                <div class="item-content">
                  <h4>Voice Agent</h4>
                  <p>Spracherkennung & -verarbeitung</p>
                </div>
              </a>
              <a class="dropdown-item" (click)="navigateToSolution('medaider')">
                <div class="item-icon med-icon">
                  <img src="/mockup/person.avif" alt="Med Agent" class="icon-image">
                </div>
                <div class="item-content">
                  <h4>Med Agent</h4>
                  <p>Medizinische Datenanalyse</p>
                </div>
              </a>
              <a class="dropdown-item" (click)="navigateToSolution('writeaider')">
                <div class="item-icon write-icon">
                  <img src="/mockup/schreib.avif" alt="Write Agent" class="icon-image">
                </div>
                <div class="item-content">
                  <h4>Write Agent</h4>
                  <p>Content-Erstellung & Copywriting</p>
                </div>
              </a>
            </div>
          </div>
        </li>

        <!-- Branchen Dropdown -->
        <li class="dropdown" (mouseenter)="showDropdown('industries')" (mouseleave)="hideDropdown('industries')">
          <a class="dropdown-toggle" [class.active]="isDropdownOpen('industries')">
            <span>Branchen</span>
            <svg class="dropdown-arrow" [class.rotated]="isDropdownOpen('industries')" width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
          <div class="dropdown-menu" [class.show]="isDropdownOpen('industries')">
            <div class="dropdown-links">
              <a routerLink="/branchen/health-ai" (click)="closeMobileMenu()" class="dropdown-link">Health AI</a>
              <a routerLink="/branchen/legal-ai" (click)="closeMobileMenu()" class="dropdown-link">Legal AI</a>
            </div>
          </div>
        </li>

        <!-- Beratung Dropdown -->
        <li class="dropdown" (mouseenter)="showDropdown('consulting')" (mouseleave)="hideDropdown('consulting')">
          <a class="dropdown-toggle" [class.active]="isDropdownOpen('consulting')">
            <span>Beratung</span>
            <svg class="dropdown-arrow" [class.rotated]="isDropdownOpen('consulting')" width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
              <path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
          <div class="dropdown-menu" [class.show]="isDropdownOpen('consulting')">
            <div class="dropdown-links">
              <a routerLink="/beratung/ki-strategie" (click)="closeMobileMenu()" class="dropdown-link">KI-Strategieberatung</a>
              <a routerLink="/beratung/it-integration" (click)="closeMobileMenu()" class="dropdown-link">IT- & Integrationsberatung</a>
            </div>
          </div>
        </li>

        <li><a routerLink="/ueber-uns" (click)="closeMobileMenu()">Über uns</a></li>
        <li><a routerLink="/kontakt" (click)="closeMobileMenu()">Kontakt</a></li>
        <li class="demo-button"><a routerLink="/kontakt" (click)="closeMobileMenu()">Demo buchen</a></li>
      </ul>
    </nav>
  </div>
</header>
